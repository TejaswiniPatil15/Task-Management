{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet TaskListComponent = class TaskListComponent {\n  constructor(taskService, router) {\n    this.taskService = taskService;\n    this.router = router;\n    this.tasks = [];\n    // UI state\n    this.searchTerm = '';\n    this.page = 1;\n    this.pageSize = 20;\n    this.showFormModal = false;\n    this.selectedTask = null;\n    this.showDeleteConfirm = false;\n    this.taskToDelete = null;\n    // track which row's action menu is open (task id)\n    this.openMenuTaskId = null;\n  }\n  ngOnInit() {\n    this.subscription = this.taskService.getAll().subscribe(list => {\n      this.tasks = list;\n      if (this.page > this.totalPages) this.page = this.totalPages || 1;\n    });\n  }\n  ngOnDestroy() {\n    this.subscription?.unsubscribe();\n  }\n  openNew() {\n    this.selectedTask = null;\n    this.showFormModal = true;\n  }\n  openEdit(task) {\n    this.selectedTask = task;\n    this.showFormModal = true;\n    this.openMenuTaskId = null;\n  }\n  onSaved(task) {\n    this.showFormModal = false;\n    this.selectedTask = null;\n  }\n  onClosed() {\n    this.showFormModal = false;\n    this.selectedTask = null;\n  }\n  openDeleteConfirm(task) {\n    this.selectedTask = task;\n    this.showDeleteConfirm = true;\n    this.openMenuTaskId = null;\n  }\n  toggleRowMenu(id) {\n    this.openMenuTaskId = this.openMenuTaskId === id ? null : id;\n  }\n  closeRowMenu(event) {\n    event.preventDefault();\n    this.openMenuTaskId = null;\n  }\n  confirmDelete(yes) {\n    if (yes && this.selectedTask) {\n      this.taskService.delete(this.selectedTask.id).subscribe();\n    }\n    this.showDeleteConfirm = false;\n    this.selectedTask = null;\n  }\n  toggleComplete(task) {\n    this.taskService.toggleComplete(task.id).subscribe();\n  }\n  get filteredTasks() {\n    const q = this.searchTerm.trim().toLowerCase();\n    let list = this.tasks;\n    if (q) {\n      list = list.filter(t => (t.title || '').toLowerCase().includes(q) || (t.assignedTo || '').toLowerCase().includes(q) || (t.comments || '').toLowerCase().includes(q));\n    }\n    return list;\n  }\n  get totalPages() {\n    return Math.max(1, Math.ceil(this.filteredTasks.length / this.pageSize));\n  }\n  get pagedTasks() {\n    const start = (this.page - 1) * this.pageSize;\n    return this.filteredTasks.slice(start, start + this.pageSize);\n  }\n  goToPage(p) {\n    if (p < 1) p = 1;\n    if (p > this.totalPages) p = this.totalPages;\n    this.page = p;\n  }\n};\nTaskListComponent = __decorate([Component({\n  selector: 'app-task-list',\n  templateUrl: './task-list.component.html',\n  styleUrls: ['./task-list.component.scss']\n})], TaskListComponent);\nexport { TaskListComponent };","map":{"version":3,"names":["Component","TaskListComponent","constructor","taskService","router","tasks","searchTerm","page","pageSize","showFormModal","selectedTask","showDeleteConfirm","taskToDelete","openMenuTaskId","ngOnInit","subscription","getAll","subscribe","list","totalPages","ngOnDestroy","unsubscribe","openNew","openEdit","task","onSaved","onClosed","openDeleteConfirm","toggleRowMenu","id","closeRowMenu","event","preventDefault","confirmDelete","yes","delete","toggleComplete","filteredTasks","q","trim","toLowerCase","filter","t","title","includes","assignedTo","comments","Math","max","ceil","length","pagedTasks","start","slice","goToPage","p","__decorate","selector","templateUrl","styleUrls"],"sources":["E:\\TEJASWINI\\Angular To-Do-List\\ng-training-assignment-1\\src\\app\\components\\task-list\\task-list.component.ts"],"sourcesContent":["import { Component, OnInit, OnDestroy } from '@angular/core';\r\nimport { Subscription } from 'rxjs';\r\nimport { Task } from '../../models/task.model';\r\nimport { TaskService } from '../../services/task.service';\r\nimport { Router } from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'app-task-list',\r\n  templateUrl: './task-list.component.html',\r\n  styleUrls: ['./task-list.component.scss']\r\n})\r\nexport class TaskListComponent implements OnInit, OnDestroy {\r\n  tasks: Task[] = [];\r\n  subscription!: Subscription;\r\n\r\n  // UI state\r\n  searchTerm = '';\r\n  page = 1;\r\n  pageSize = 20;\r\n  showFormModal = false;\r\n  selectedTask: Task | null = null;\r\n  showDeleteConfirm = false;\r\n  taskToDelete: Task | null = null;\r\n  // track which row's action menu is open (task id)\r\n  openMenuTaskId: string | null = null;\r\n\r\n  constructor(public taskService: TaskService, private router: Router) {}\r\n\r\n  ngOnInit(): void {\r\n    this.subscription = this.taskService.getAll().subscribe(list => {\r\n      this.tasks = list;\r\n      if (this.page > this.totalPages) this.page = this.totalPages || 1;\r\n    });\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.subscription?.unsubscribe();\r\n  }\r\n\r\n  openNew() {\r\n    this.selectedTask = null;\r\n    this.showFormModal = true;\r\n  }\r\n\r\n  openEdit(task: Task) {\r\n    this.selectedTask = task;\r\n    this.showFormModal = true;\r\n    this.openMenuTaskId = null;\r\n  }\r\n\r\n  onSaved(task: Task) {\r\n    this.showFormModal = false;\r\n    this.selectedTask = null;\r\n  }\r\n\r\n  onClosed() {\r\n    this.showFormModal = false;\r\n    this.selectedTask = null;\r\n  }\r\n\r\n  openDeleteConfirm(task: Task) {\r\n    this.selectedTask = task;\r\n    this.showDeleteConfirm = true;\r\n    this.openMenuTaskId = null;\r\n  }\r\n\r\n  toggleRowMenu(id: string) {\r\n    this.openMenuTaskId = this.openMenuTaskId === id ? null : id;\r\n  }\r\n\r\n  closeRowMenu(event: Event) {\r\n    event.preventDefault();\r\n    this.openMenuTaskId = null;\r\n  }\r\n\r\n  confirmDelete(yes: boolean) {\r\n    if (yes && this.selectedTask) {\r\n      this.taskService.delete(this.selectedTask.id).subscribe();\r\n    }\r\n    this.showDeleteConfirm = false;\r\n    this.selectedTask = null;\r\n  }\r\n\r\n  toggleComplete(task: Task) {\r\n    this.taskService.toggleComplete(task.id).subscribe();\r\n  }\r\n\r\n  get filteredTasks(): Task[] {\r\n    const q = this.searchTerm.trim().toLowerCase();\r\n    let list = this.tasks;\r\n    if (q) {\r\n      list = list.filter(t =>\r\n        (t.title || '').toLowerCase().includes(q) ||\r\n        (t.assignedTo || '').toLowerCase().includes(q) ||\r\n        (t.comments || '').toLowerCase().includes(q)\r\n      );\r\n    }\r\n    return list;\r\n  }\r\n\r\n  get totalPages(): number {\r\n    return Math.max(1, Math.ceil(this.filteredTasks.length / this.pageSize));\r\n  }\r\n\r\n  get pagedTasks(): Task[] {\r\n    const start = (this.page - 1) * this.pageSize;\r\n    return this.filteredTasks.slice(start, start + this.pageSize);\r\n  }\r\n\r\n  goToPage(p: number) {\r\n    if (p < 1) p = 1;\r\n    if (p > this.totalPages) p = this.totalPages;\r\n    this.page = p;\r\n  }\r\n}\r\n"],"mappings":";AAAA,SAASA,SAAS,QAA2B,eAAe;AAW5D,IAAaC,iBAAiB,GAA9B,MAAaA,iBAAiB;EAe5BC,YAAmBC,WAAwB,EAAUC,MAAc;IAAhD,KAAAD,WAAW,GAAXA,WAAW;IAAuB,KAAAC,MAAM,GAANA,MAAM;IAd3D,KAAAC,KAAK,GAAW,EAAE;IAGlB;IACA,KAAAC,UAAU,GAAG,EAAE;IACf,KAAAC,IAAI,GAAG,CAAC;IACR,KAAAC,QAAQ,GAAG,EAAE;IACb,KAAAC,aAAa,GAAG,KAAK;IACrB,KAAAC,YAAY,GAAgB,IAAI;IAChC,KAAAC,iBAAiB,GAAG,KAAK;IACzB,KAAAC,YAAY,GAAgB,IAAI;IAChC;IACA,KAAAC,cAAc,GAAkB,IAAI;EAEkC;EAEtEC,QAAQA,CAAA;IACN,IAAI,CAACC,YAAY,GAAG,IAAI,CAACZ,WAAW,CAACa,MAAM,EAAE,CAACC,SAAS,CAACC,IAAI,IAAG;MAC7D,IAAI,CAACb,KAAK,GAAGa,IAAI;MACjB,IAAI,IAAI,CAACX,IAAI,GAAG,IAAI,CAACY,UAAU,EAAE,IAAI,CAACZ,IAAI,GAAG,IAAI,CAACY,UAAU,IAAI,CAAC;IACnE,CAAC,CAAC;EACJ;EAEAC,WAAWA,CAAA;IACT,IAAI,CAACL,YAAY,EAAEM,WAAW,EAAE;EAClC;EAEAC,OAAOA,CAAA;IACL,IAAI,CAACZ,YAAY,GAAG,IAAI;IACxB,IAAI,CAACD,aAAa,GAAG,IAAI;EAC3B;EAEAc,QAAQA,CAACC,IAAU;IACjB,IAAI,CAACd,YAAY,GAAGc,IAAI;IACxB,IAAI,CAACf,aAAa,GAAG,IAAI;IACzB,IAAI,CAACI,cAAc,GAAG,IAAI;EAC5B;EAEAY,OAAOA,CAACD,IAAU;IAChB,IAAI,CAACf,aAAa,GAAG,KAAK;IAC1B,IAAI,CAACC,YAAY,GAAG,IAAI;EAC1B;EAEAgB,QAAQA,CAAA;IACN,IAAI,CAACjB,aAAa,GAAG,KAAK;IAC1B,IAAI,CAACC,YAAY,GAAG,IAAI;EAC1B;EAEAiB,iBAAiBA,CAACH,IAAU;IAC1B,IAAI,CAACd,YAAY,GAAGc,IAAI;IACxB,IAAI,CAACb,iBAAiB,GAAG,IAAI;IAC7B,IAAI,CAACE,cAAc,GAAG,IAAI;EAC5B;EAEAe,aAAaA,CAACC,EAAU;IACtB,IAAI,CAAChB,cAAc,GAAG,IAAI,CAACA,cAAc,KAAKgB,EAAE,GAAG,IAAI,GAAGA,EAAE;EAC9D;EAEAC,YAAYA,CAACC,KAAY;IACvBA,KAAK,CAACC,cAAc,EAAE;IACtB,IAAI,CAACnB,cAAc,GAAG,IAAI;EAC5B;EAEAoB,aAAaA,CAACC,GAAY;IACxB,IAAIA,GAAG,IAAI,IAAI,CAACxB,YAAY,EAAE;MAC5B,IAAI,CAACP,WAAW,CAACgC,MAAM,CAAC,IAAI,CAACzB,YAAY,CAACmB,EAAE,CAAC,CAACZ,SAAS,EAAE;;IAE3D,IAAI,CAACN,iBAAiB,GAAG,KAAK;IAC9B,IAAI,CAACD,YAAY,GAAG,IAAI;EAC1B;EAEA0B,cAAcA,CAACZ,IAAU;IACvB,IAAI,CAACrB,WAAW,CAACiC,cAAc,CAACZ,IAAI,CAACK,EAAE,CAAC,CAACZ,SAAS,EAAE;EACtD;EAEA,IAAIoB,aAAaA,CAAA;IACf,MAAMC,CAAC,GAAG,IAAI,CAAChC,UAAU,CAACiC,IAAI,EAAE,CAACC,WAAW,EAAE;IAC9C,IAAItB,IAAI,GAAG,IAAI,CAACb,KAAK;IACrB,IAAIiC,CAAC,EAAE;MACLpB,IAAI,GAAGA,IAAI,CAACuB,MAAM,CAACC,CAAC,IAClB,CAACA,CAAC,CAACC,KAAK,IAAI,EAAE,EAAEH,WAAW,EAAE,CAACI,QAAQ,CAACN,CAAC,CAAC,IACzC,CAACI,CAAC,CAACG,UAAU,IAAI,EAAE,EAAEL,WAAW,EAAE,CAACI,QAAQ,CAACN,CAAC,CAAC,IAC9C,CAACI,CAAC,CAACI,QAAQ,IAAI,EAAE,EAAEN,WAAW,EAAE,CAACI,QAAQ,CAACN,CAAC,CAAC,CAC7C;;IAEH,OAAOpB,IAAI;EACb;EAEA,IAAIC,UAAUA,CAAA;IACZ,OAAO4B,IAAI,CAACC,GAAG,CAAC,CAAC,EAAED,IAAI,CAACE,IAAI,CAAC,IAAI,CAACZ,aAAa,CAACa,MAAM,GAAG,IAAI,CAAC1C,QAAQ,CAAC,CAAC;EAC1E;EAEA,IAAI2C,UAAUA,CAAA;IACZ,MAAMC,KAAK,GAAG,CAAC,IAAI,CAAC7C,IAAI,GAAG,CAAC,IAAI,IAAI,CAACC,QAAQ;IAC7C,OAAO,IAAI,CAAC6B,aAAa,CAACgB,KAAK,CAACD,KAAK,EAAEA,KAAK,GAAG,IAAI,CAAC5C,QAAQ,CAAC;EAC/D;EAEA8C,QAAQA,CAACC,CAAS;IAChB,IAAIA,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,CAAC;IAChB,IAAIA,CAAC,GAAG,IAAI,CAACpC,UAAU,EAAEoC,CAAC,GAAG,IAAI,CAACpC,UAAU;IAC5C,IAAI,CAACZ,IAAI,GAAGgD,CAAC;EACf;CACD;AAvGYtD,iBAAiB,GAAAuD,UAAA,EAL7BxD,SAAS,CAAC;EACTyD,QAAQ,EAAE,eAAe;EACzBC,WAAW,EAAE,4BAA4B;EACzCC,SAAS,EAAE,CAAC,4BAA4B;CACzC,CAAC,C,EACW1D,iBAAiB,CAuG7B;SAvGYA,iBAAiB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}