{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet TaskListComponent = class TaskListComponent {\n  constructor(taskService, router) {\n    this.taskService = taskService;\n    this.router = router;\n    this.tasks = [];\n    // UI state\n    this.searchTerm = '';\n    this.page = 1;\n    this.pageSize = 20;\n    this.showFormModal = false;\n    this.selectedTask = null;\n    this.showDeleteConfirm = false;\n    this.taskToDelete = null;\n  }\n  ngOnInit() {\n    this.subscription = this.taskService.getAll().subscribe(list => {\n      this.tasks = list;\n      if (this.page > this.totalPages) this.page = this.totalPages || 1;\n    });\n  }\n  ngOnDestroy() {\n    this.subscription?.unsubscribe();\n  }\n  openNew() {\n    this.selectedTask = null;\n    this.showFormModal = true;\n  }\n  openEdit(task) {\n    this.selectedTask = task;\n    this.showFormModal = true;\n  }\n  onSaved(task) {\n    this.showFormModal = false;\n    this.selectedTask = null;\n  }\n  onClosed() {\n    this.showFormModal = false;\n    this.selectedTask = null;\n  }\n  openDeleteConfirm(task) {\n    this.selectedTask = task;\n    this.showDeleteConfirm = true;\n  }\n  confirmDelete(yes) {\n    if (yes && this.selectedTask) {\n      this.taskService.delete(this.selectedTask.id).subscribe();\n    }\n    this.showDeleteConfirm = false;\n    this.selectedTask = null;\n  }\n  toggleComplete(task) {\n    this.taskService.toggleComplete(task.id).subscribe();\n  }\n  get filteredTasks() {\n    const q = this.searchTerm.trim().toLowerCase();\n    let list = this.tasks;\n    if (q) {\n      list = list.filter(t => (t.title || '').toLowerCase().includes(q) || (t.assignedTo || '').toLowerCase().includes(q) || (t.comments || '').toLowerCase().includes(q));\n    }\n    return list;\n  }\n  get totalPages() {\n    return Math.max(1, Math.ceil(this.filteredTasks.length / this.pageSize));\n  }\n  get pagedTasks() {\n    const start = (this.page - 1) * this.pageSize;\n    return this.filteredTasks.slice(start, start + this.pageSize);\n  }\n  goToPage(p) {\n    if (p < 1) p = 1;\n    if (p > this.totalPages) p = this.totalPages;\n    this.page = p;\n  }\n};\nTaskListComponent = __decorate([Component({\n  selector: 'app-task-list',\n  templateUrl: './task-list.component.html',\n  styleUrls: ['./task-list.component.scss']\n})], TaskListComponent);\nexport { TaskListComponent };","map":{"version":3,"names":["Component","TaskListComponent","constructor","taskService","router","tasks","searchTerm","page","pageSize","showFormModal","selectedTask","showDeleteConfirm","taskToDelete","ngOnInit","subscription","getAll","subscribe","list","totalPages","ngOnDestroy","unsubscribe","openNew","openEdit","task","onSaved","onClosed","openDeleteConfirm","confirmDelete","yes","delete","id","toggleComplete","filteredTasks","q","trim","toLowerCase","filter","t","title","includes","assignedTo","comments","Math","max","ceil","length","pagedTasks","start","slice","goToPage","p","__decorate","selector","templateUrl","styleUrls"],"sources":["E:\\TEJASWINI\\Angular To-Do-List\\ng-training-assignment-1\\src\\app\\components\\task-list\\task-list.component.ts"],"sourcesContent":["import { Component, OnInit, OnDestroy } from '@angular/core';\r\nimport { Subscription } from 'rxjs';\r\nimport { Task } from '../../models/task.model';\r\nimport { TaskService } from '../../services/task.service';\r\nimport { Router } from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'app-task-list',\r\n  templateUrl: './task-list.component.html',\r\n  styleUrls: ['./task-list.component.scss']\r\n})\r\nexport class TaskListComponent implements OnInit, OnDestroy {\r\n  tasks: Task[] = [];\r\n  subscription!: Subscription;\r\n\r\n  // UI state\r\n  searchTerm = '';\r\n  page = 1;\r\n  pageSize = 20;\r\n  showFormModal = false;\r\n  selectedTask: Task | null = null;\r\n  showDeleteConfirm = false;\r\n  taskToDelete: Task | null = null;\r\n\r\n  constructor(public taskService: TaskService, private router: Router) {}\r\n\r\n  ngOnInit(): void {\r\n    this.subscription = this.taskService.getAll().subscribe(list => {\r\n      this.tasks = list;\r\n      if (this.page > this.totalPages) this.page = this.totalPages || 1;\r\n    });\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.subscription?.unsubscribe();\r\n  }\r\n\r\n  openNew() {\r\n    this.selectedTask = null;\r\n    this.showFormModal = true;\r\n  }\r\n\r\n  openEdit(task: Task) {\r\n    this.selectedTask = task;\r\n    this.showFormModal = true;\r\n  }\r\n\r\n  onSaved(task: Task) {\r\n    this.showFormModal = false;\r\n    this.selectedTask = null;\r\n  }\r\n\r\n  onClosed() {\r\n    this.showFormModal = false;\r\n    this.selectedTask = null;\r\n  }\r\n\r\n  openDeleteConfirm(task: Task) {\r\n    this.selectedTask = task;\r\n    this.showDeleteConfirm = true;\r\n  }\r\n\r\n  confirmDelete(yes: boolean) {\r\n    if (yes && this.selectedTask) {\r\n      this.taskService.delete(this.selectedTask.id).subscribe();\r\n    }\r\n    this.showDeleteConfirm = false;\r\n    this.selectedTask = null;\r\n  }\r\n\r\n  toggleComplete(task: Task) {\r\n    this.taskService.toggleComplete(task.id).subscribe();\r\n  }\r\n\r\n  get filteredTasks(): Task[] {\r\n    const q = this.searchTerm.trim().toLowerCase();\r\n    let list = this.tasks;\r\n    if (q) {\r\n      list = list.filter(t =>\r\n        (t.title || '').toLowerCase().includes(q) ||\r\n        (t.assignedTo || '').toLowerCase().includes(q) ||\r\n        (t.comments || '').toLowerCase().includes(q)\r\n      );\r\n    }\r\n    return list;\r\n  }\r\n\r\n  get totalPages(): number {\r\n    return Math.max(1, Math.ceil(this.filteredTasks.length / this.pageSize));\r\n  }\r\n\r\n  get pagedTasks(): Task[] {\r\n    const start = (this.page - 1) * this.pageSize;\r\n    return this.filteredTasks.slice(start, start + this.pageSize);\r\n  }\r\n\r\n  goToPage(p: number) {\r\n    if (p < 1) p = 1;\r\n    if (p > this.totalPages) p = this.totalPages;\r\n    this.page = p;\r\n  }\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}