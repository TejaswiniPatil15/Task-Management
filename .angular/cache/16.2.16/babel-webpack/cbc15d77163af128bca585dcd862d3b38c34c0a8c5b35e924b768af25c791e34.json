{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component, Input, Output, EventEmitter } from '@angular/core';\nimport { Validators } from '@angular/forms';\nlet TaskFormComponent = class TaskFormComponent {\n  constructor(fb, taskService) {\n    this.fb = fb;\n    this.taskService = taskService;\n    this.task = null; // if provided, form is edit\n    this.saved = new EventEmitter();\n    this.closed = new EventEmitter();\n    this.users = [];\n    this.statuses = [];\n    this.priorities = [];\n  }\n  ngOnInit() {\n    this.taskForm = this.fb.group({\n      title: ['', [Validators.required, Validators.maxLength(120)]],\n      description: [''],\n      dueDate: [''],\n      assignedTo: [''],\n      status: ['Not Started', Validators.required],\n      priority: ['Normal', Validators.required],\n      comments: [''],\n      completed: [false]\n    });\n    // load selects\n    this.taskService.getUsers().subscribe(list => this.users = list);\n    this.taskService.getStatuses().subscribe(list => this.statuses = list);\n    this.taskService.getPriorities().subscribe(list => this.priorities = list);\n    if (this.task) {\n      this.patchForm(this.task);\n    }\n  }\n  ngOnChanges(changes) {\n    if (changes['task'] && this.taskForm) {\n      if (this.task) this.patchForm(this.task);else this.taskForm.reset({\n        status: 'Not Started',\n        priority: 'Normal',\n        completed: false\n      });\n    }\n  }\n  patchForm(t) {\n    this.taskForm.patchValue({\n      title: t.title,\n      description: t.description,\n      dueDate: t.dueDate ? t.dueDate.split('T')[0] : '',\n      assignedTo: t.assignedTo || '',\n      status: t.status || 'Not Started',\n      priority: t.priority || 'Normal',\n      comments: t.comments || '',\n      completed: !!t.completed\n    });\n  }\n  onSubmit() {\n    if (this.taskForm.invalid) {\n      this.taskForm.markAllAsTouched();\n      return;\n    }\n    const f = this.taskForm.value;\n    const payload = {\n      title: f.title,\n      description: f.description,\n      dueDate: f.dueDate ? new Date(f.dueDate).toISOString() : undefined,\n      assignedTo: f.assignedTo,\n      status: f.status,\n      priority: f.priority,\n      comments: f.comments,\n      completed: !!f.completed\n    };\n    if (this.task && this.task.id) {\n      this.taskService.update(this.task.id, payload).subscribe(updated => {\n        if (updated) this.saved.emit(updated);\n      });\n    } else {\n      this.taskService.create(payload).subscribe(created => this.saved.emit(created));\n    }\n  }\n  onCancel() {\n    this.closed.emit();\n  }\n};\n__decorate([Input()], TaskFormComponent.prototype, \"task\", void 0);\n__decorate([Output()], TaskFormComponent.prototype, \"saved\", void 0);\n__decorate([Output()], TaskFormComponent.prototype, \"closed\", void 0);\nTaskFormComponent = __decorate([Component({\n  selector: 'app-task-form',\n  templateUrl: './task-form.component.html',\n  styleUrls: ['./task-form.component.scss']\n})], TaskFormComponent);\nexport { TaskFormComponent };","map":{"version":3,"names":["Component","Input","Output","EventEmitter","Validators","TaskFormComponent","constructor","fb","taskService","task","saved","closed","users","statuses","priorities","ngOnInit","taskForm","group","title","required","maxLength","description","dueDate","assignedTo","status","priority","comments","completed","getUsers","subscribe","list","getStatuses","getPriorities","patchForm","ngOnChanges","changes","reset","t","patchValue","split","onSubmit","invalid","markAllAsTouched","f","value","payload","Date","toISOString","undefined","id","update","updated","emit","create","created","onCancel","__decorate","selector","templateUrl","styleUrls"],"sources":["E:\\TEJASWINI\\Angular To-Do-List\\ng-training-assignment-1\\src\\app\\components\\task-form\\task-form.component.ts"],"sourcesContent":["import { Component, OnInit, Input, Output, EventEmitter, OnChanges, SimpleChanges } from '@angular/core';\r\nimport { Task } from '../../models/task.model';\r\nimport { TaskService } from '../../services/task.service';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\n\r\n@Component({\r\n  selector: 'app-task-form',\r\n  templateUrl: './task-form.component.html',\r\n  styleUrls: ['./task-form.component.scss']\r\n})\r\nexport class TaskFormComponent implements OnInit, OnChanges {\r\n  @Input() task?: Task | null = null; // if provided, form is edit\r\n  @Output() saved = new EventEmitter<Task>();\r\n  @Output() closed = new EventEmitter<void>();\r\n\r\n  taskForm!: FormGroup;\r\n  users: string[] = [];\r\n  statuses: string[] = [];\r\n  priorities: string[] = [];\r\n\r\n  constructor(\r\n    private fb: FormBuilder,\r\n    private taskService: TaskService\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.taskForm = this.fb.group({\r\n      title: ['', [Validators.required, Validators.maxLength(120)]],\r\n      description: [''],\r\n      dueDate: [''],\r\n      assignedTo: [''],\r\n      status: ['Not Started', Validators.required],\r\n      priority: ['Normal', Validators.required],\r\n      comments: [''],\r\n      completed: [false]\r\n    });\r\n\r\n    // load selects\r\n    this.taskService.getUsers().subscribe(list => this.users = list);\r\n    this.taskService.getStatuses().subscribe(list => this.statuses = list);\r\n    this.taskService.getPriorities().subscribe(list => this.priorities = list);\r\n\r\n    if (this.task) {\r\n      this.patchForm(this.task);\r\n    }\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges) {\r\n    if (changes['task'] && this.taskForm) {\r\n      if (this.task) this.patchForm(this.task);\r\n      else this.taskForm.reset({ status: 'Not Started', priority: 'Normal', completed: false });\r\n    }\r\n  }\r\n\r\n  private patchForm(t: Task) {\r\n    this.taskForm.patchValue({\r\n      title: t.title,\r\n      description: t.description,\r\n      dueDate: t.dueDate ? t.dueDate.split('T')[0] : '',\r\n      assignedTo: t.assignedTo || '',\r\n      status: t.status || 'Not Started',\r\n      priority: t.priority || 'Normal',\r\n      comments: t.comments || '',\r\n      completed: !!t.completed\r\n    });\r\n  }\r\n\r\n  onSubmit() {\r\n    if (this.taskForm.invalid) {\r\n      this.taskForm.markAllAsTouched();\r\n      return;\r\n    }\r\n\r\n    const f = this.taskForm.value;\r\n    const payload: Partial<Task> = {\r\n      title: f.title,\r\n      description: f.description,\r\n      dueDate: f.dueDate ? new Date(f.dueDate).toISOString() : undefined,\r\n      assignedTo: f.assignedTo,\r\n      status: f.status,\r\n      priority: f.priority,\r\n      comments: f.comments,\r\n      completed: !!f.completed\r\n    };\r\n\r\n    if (this.task && this.task.id) {\r\n      this.taskService.update(this.task.id, payload).subscribe(updated => {\r\n        if (updated) this.saved.emit(updated);\r\n      });\r\n    } else {\r\n      this.taskService.create(payload).subscribe(created => this.saved.emit(created));\r\n    }\r\n  }\r\n\r\n  onCancel() {\r\n    this.closed.emit();\r\n  }\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}